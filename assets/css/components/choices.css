/* Choices.js Component Styling */

/* Consistent height for all Choices.js fields */
.choices__inner { 
  min-height: 38px !important; 
  padding: 0.375rem 0.75rem !important;
  padding-top: 0.375rem !important;
  border: 1px solid #dee2e6 !important;
  border-radius: 0.375rem !important;
  background-color: white !important;
  font-family: inherit !important;
  font-size: 1rem !important;
  font-weight: 400 !important;
  color: #212529 !important;
  line-height: 1 !important;
}

.choices[data-type*="select-one"] .choices__inner {
  height: 38px !important;
  min-height: 38px !important;
  padding: 0.375rem 0.75rem !important;
  background-color: white !important;
  font-family: inherit !important;
  font-size: 1rem !important;
  font-weight: 400 !important;
  color: #212529 !important;
  line-height: 1 !important;
}

/* Match the selected item text styling with regular form controls */
.choices__list--single .choices__item {
  font-family: inherit !important;
  font-size: 1rem !important;
  font-weight: 400 !important;
  color: #212529 !important;
  line-height: 1 !important;
  padding: 0 !important;
}

/* Ensure placeholder text matches other fields */
.choices__placeholder {
  font-family: inherit !important;
  font-size: 1rem !important;
  font-weight: 400 !important;
  color: #6c757d !important;
  line-height: 1 !important;
  opacity: 1 !important;
}

/* Enhanced styling for Choices.js dropdown */
.choices__list--dropdown {
  border: 1px solid #dee2e6 !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.15) !important;
  margin-top: 2px !important;
  max-height: 244px !important; /* Exactly 4 items: 4 Ã— 60px + 4px for borders */
  overflow-y: scroll !important;
  overflow-x: hidden !important;
  background: white !important;
  z-index: 9999 !important; /* Higher z-index to ensure it's on top */
  position: absolute !important;
  width: 100% !important;
  scrollbar-width: none !important; /* Firefox */
  -ms-overflow-style: none !important; /* IE and Edge */
  top: 100% !important; /* Position right below the input */
  left: 0 !important;
}

/* Hide all scrollbars completely and use custom one */
.choices__list--dropdown::-webkit-scrollbar {
  display: none !important;
}

/* Add a custom scrollbar indicator on hover */
.choices__list--dropdown:hover {
  scrollbar-width: thin !important;
  scrollbar-color: #c1c1c1 transparent !important;
}

.choices__list--dropdown:hover::-webkit-scrollbar {
  display: block !important;
  width: 4px !important;
}

.choices__list--dropdown:hover::-webkit-scrollbar-track {
  background: transparent !important;
}

.choices__list--dropdown:hover::-webkit-scrollbar-thumb {
  background: #c1c1c1 !important;
  border-radius: 2px !important;
}

/* Remove all scrollbars from all choices elements */
.choices,
.choices *,
.choices__inner,
.choices__list,
.choices__list--multiple,
.choices__list--single,
.choices[data-type*="select-multiple"],
.choices[data-type*="select-multiple"] *,
.choices__item,
.choices__item--selectable {
  overflow: visible !important;
  max-height: none !important;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

.choices::-webkit-scrollbar,
.choices *::-webkit-scrollbar,
.choices__inner::-webkit-scrollbar,
.choices__list::-webkit-scrollbar,
.choices__list--multiple::-webkit-scrollbar,
.choices__list--single::-webkit-scrollbar,
.choices__item::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
}

/* Ensure proper spacing for the Related applications field */
.mb-5 {
  margin-bottom: 4rem !important;
}

/* Prevent dropdown from affecting layout when opened */
.choices.is-open {
  margin-bottom: 0 !important;
}

/* Ensure the dropdown doesn't create extra space */
.choices.is-open .choices__list--dropdown {
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 9999 !important;
}

/* Choice items styling */
.choices__item--choice,
.custom-choice-item {
  padding: 16px 20px !important;
  margin: 0 !important;
  border-bottom: 1px solid #f1f3f4 !important;
  transition: all 0.2s ease !important;
  cursor: pointer !important;
  background: white !important;
  min-height: 60px !important;
  display: flex !important;
  align-items: center !important;
}

.choices__item--choice:last-child,
.custom-choice-item:last-child {
  border-bottom: none !important;
}

/* General hover effect for all choice items */
.choices__list--dropdown .choices__item--choice:hover,
.choices__list--dropdown .choices__item--choice.is-highlighted {
  background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%) !important;
  color: #1976d2 !important;
  border-left: 4px solid #2196f3 !important;
  padding-left: 16px !important;
  box-shadow: 0 4px 12px rgba(33, 150, 243, 0.2) !important;
  transform: translateX(3px) scale(1.02) !important;
  transition: all 0.2s ease !important;
}

/* Choice content styling */
.choice-content {
  display: block !important;
  width: 100% !important;
}

.choice-title,
.choices__item--choice strong {
  display: block !important;
  font-weight: 600 !important;
  color: #2c3e50 !important;
  margin-bottom: 4px !important;
  font-size: 1rem !important;
  line-height: 1 !important;
}

.choice-subtitle,
.choices__item--choice small {
  display: block !important;
  font-size: 0.8rem !important;
  color: #7b8794 !important;
  font-style: italic !important;
  margin-top: 2px !important;
}

.choices__item--choice:hover .choice-title,
.choices__item--choice:hover strong,
.choices__item--choice.is-highlighted .choice-title,
.choices__item--choice.is-highlighted strong {
  color: #1976d2 !important;
}

.choices__item--choice:hover .choice-subtitle,
.choices__item--choice:hover small,
.choices__item--choice.is-highlighted .choice-subtitle,
.choices__item--choice.is-highlighted small {
  color: #1565c0 !important;
}

/* Input field styling */
.choices__input {
  background-color: transparent !important;
  margin-bottom: 0 !important;
  font-size: 1rem !important;
  padding: 8px 12px !important;
}

/* Loading state */
.choices__placeholder {
  opacity: 0.7 !important;
  font-style: italic !important;
  color: #9e9e9e !important;
}

/* Remove default Choices.js styling that conflicts */
.choices__item--choice[data-choice-selectable] {
  padding-right: 20px !important;
}

/* Readonly/Disabled Choices.js Multiple Select Styling */
.choices[data-type*="select-multiple"] .choices__inner,
.choices--disabled .choices__inner {
  background-color: #f8f9fa !important;
  border-color: #dee2e6 !important;
  min-height: auto !important;
  padding: 0.375rem 0.75rem !important;
}

/* Style for selected items in readonly mode */
.choices__list--multiple .choices__item {
  background-color: #007bff !important;
  border: 1px solid #007bff !important;
  color: white !important;
  border-radius: 0.25rem !important;
  margin: 0.125rem 0.25rem 0.125rem 0 !important;
  padding: 0.25rem 0.5rem !important;
  font-size: 0.875rem !important;
  line-height: 1.2 !important;
  display: inline-block !important;
}

/* Remove button styling for readonly items only */
.choices--disabled .choices__list--multiple .choices__item .choices__button {
  display: none !important;
}

/* Ensure proper display in disabled state */
.choices--disabled .choices__list--multiple .choices__item {
  background-color: #6c757d !important;
  border-color: #6c757d !important;
  opacity: 0.8 !important;
}

/* Hide dropdown button in readonly mode */
.choices--disabled .choices__button {
  display: none !important;
}

/* Ensure proper container height */
.choices[data-type*="select-multiple"] {
  min-height: 38px !important;
}

/* Ensure Choices.js container has relative positioning for absolute dropdown */
.choices {
  position: relative !important;
}
